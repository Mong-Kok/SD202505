<!DOCTYPE html>
<head><meta charset="utf-8"/><title>xR Space Colony</title>
<script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
<style>#container {width:100%;height:100%;z-index:1;position:relative;margin:0;}
       #cameraNavi {width:100%;height:100%;z-index:2;top:0;left:0;position:absolute;mix-blend-mode:overlay;}
</style></head><body><div id="container">
<a-scene background="color:#FFF" fog="type: linear; color: #AAA; near: 10; far: 10000">
<a-entity camera="fov:55" look-controls="" position="0 -320 0" wasd-controls=""></a-entity>
<a-light color="#DDD" type="ambient"></a-light>
<a-cylinder height="3000" material="src:texture_colony_back.png; transparent:true; side:back" open-ended="true" position="0 0 0" radius="325" rotation="90 0 0"></a-cylinder>
<a-cylinder height="3000" material="src:texture_colony_front.png; transparent:true; side:front" open-ended="true" position="0 0 0" radius="325" rotation="90 0 0"></a-cylinder>
<a-circle position="0 0 -1500" radius="325" rotation="0 0 0" side="double" src="edge.png"></a-circle>
<a-circle position="0 0 1500" radius="325" rotation="0 0 0" side="double" src="edge.png"></a-circle>
<a-assets><img id="mirrorTexture" src="mirror.png"/></a-assets>
<a-assets><img id="mirrorTexture" src="mirror.png"/></a-assets>
<a-assets><img id="mirrorTexture" src="mirror.png"/></a-assets>
<a-sky animation="property: phi-start; to: 360; loop: true; dur: 113000; easing: linear" radius="3100" rotation="90 0 0" src="stellarium-001.png"></a-sky>
<a-plane rotation="0 0 0"><a-plane height="1700" material="src: #mirrorTexture;emissive:#404040;emissiveIntensity:0.7" position="0 890 -860" rotation="45 0 0" side="double" width="325"></a-plane></a-plane><a-plane rotation="0 0 120"><a-plane height="1700" material="src: #mirrorTexture;emissive:#404040;emissiveIntensity:0.7" position="0 890 -860" rotation="45 0 0" side="double" width="325"></a-plane></a-plane><a-plane rotation="0 0 240"><a-plane height="1700" material="src: #mirrorTexture;emissive:#404040;emissiveIntensity:0.7" position="0 890 -860" rotation="45 0 0" side="double" width="325"></a-plane></a-plane><a-sphere color="#F0F0F0" position="1500.0 0.0 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1497.0400926424074 94.18577929397006 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1488.1720519717169 187.99985034645638 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1473.430876093033 281.0719718785869 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1452.8747416929466 373.0348307472822 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1426.5847744427303 463.5254915624211 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1394.6647288323773 552.1868290270169 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1357.2405786990291 638.668937347609 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1314.4600200657953 722.630511152573 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1266.4918882530226 803.740192468495 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1213.5254915624212 881.6778784387097 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1155.769864163684 956.1359846230345 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1093.4529411321173 1026.820658893033 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1026.8206588930332 1093.4529411321173 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="956.1359846230345 1155.769864163684 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="881.6778784387099 1213.525491562421 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="803.740192468495 1266.4918882530226 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="722.6305111525728 1314.4600200657953 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="638.668937347609 1357.2405786990294 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="552.1868290270171 1394.664728832377 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="463.52549156242117 1426.5847744427303 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="373.03483074728246 1452.8747416929466 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="281.0719718785871 1473.430876093033 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="187.99985034645638 1488.1720519717169 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="94.18577929397027 1497.0400926424074 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="9.184850993605149e-14 1500.0 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-94.1857792939701 1497.0400926424074 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-187.99985034645655 1488.1720519717167 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-281.07197187858725 1473.430876093033 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-373.03483074728194 1452.8747416929468 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-463.525491562421 1426.5847744427306 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-552.186829027017 1394.664728832377 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-638.6689373476091 1357.2405786990291 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-722.630511152573 1314.460020065795 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-803.7401924684951 1266.4918882530224 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-881.6778784387095 1213.5254915624212 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-956.1359846230345 1155.769864163684 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1026.8206588930332 1093.4529411321173 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1093.452941132117 1026.8206588930332 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1155.7698641636837 956.1359846230348 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1213.525491562421 881.6778784387099 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1266.4918882530224 803.7401924684955 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1314.460020065795 722.6305111525734 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1357.2405786990291 638.6689373476094 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1394.664728832377 552.1868290270172 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1426.5847744427303 463.5254915624213 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1452.8747416929466 373.0348307472822 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1473.430876093033 281.0719718785875 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1488.1720519717167 187.9998503464568 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1497.0400926424074 94.18577929397037 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1500.0 1.8369701987210297e-13 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1497.0400926424074 -94.18577929397 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1488.1720519717169 -187.99985034645647 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1473.430876093033 -281.07197187858714 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1452.8747416929466 -373.0348307472825 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1426.5847744427303 -463.5254915624216 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1394.6647288323768 -552.1868290270176 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1357.2405786990296 -638.6689373476084 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1314.4600200657956 -722.6305111525725 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1266.4918882530228 -803.7401924684947 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1213.5254915624212 -881.6778784387095 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1155.769864163684 -956.1359846230345 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1093.4529411321173 -1026.8206588930332 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-1026.8206588930334 -1093.452941132117 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-956.1359846230345 -1155.7698641636841 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-881.6778784387099 -1213.525491562421 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-803.7401924684945 -1266.491888253023 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-722.630511152573 -1314.4600200657953 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-638.6689373476082 -1357.2405786990298 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-552.1868290270179 -1394.6647288323768 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-463.52549156242134 -1426.5847744427303 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-373.03483074728297 -1452.8747416929464 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-281.07197187858696 -1473.430876093033 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-187.99985034645692 -1488.1720519717167 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-94.18577929396979 -1497.0400926424074 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="-2.7554552980815444e-13 -1500.0 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="94.18577929396925 -1497.0400926424074 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="187.99985034645636 -1488.1720519717169 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="281.0719718785864 -1473.430876093033 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="373.03483074728246 -1452.8747416929466 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="463.5254915624208 -1426.5847744427306 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="552.1868290270174 -1394.6647288323768 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="638.6689373476078 -1357.2405786990298 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="722.6305111525724 -1314.4600200657958 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="803.740192468494 -1266.4918882530233 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="881.6778784387094 -1213.5254915624214 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="956.135984623034 -1155.7698641636844 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1026.820658893033 -1093.4529411321173 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1093.452941132117 -1026.8206588930334 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1155.7698641636841 -956.1359846230345 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1213.525491562421 -881.6778784387099 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1266.491888253023 -803.7401924684945 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1314.4600200657953 -722.630511152573 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1357.2405786990298 -638.6689373476083 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1394.6647288323768 -552.186829027018 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1426.5847744427303 -463.52549156242145 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1452.8747416929464 -373.034830747283 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1473.430876093033 -281.071971878587 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1488.1720519717167 -187.999850346457 1200" radius="50"></a-sphere><a-sphere color="#F0F0F0" position="1497.0400926424074 -94.1857792939699 1200" radius="50"></a-sphere></a-scene>
<div id="cameraNavi"><video autoplay="" id="videoInput" playsinline=""></video></div>
</div>
<script>let video = document.getElementById("videoInput");navigator.mediaDevices.getUserMedia(
    {video:{facingMode:"environment"},audio:false}).then(function(stream){video.srcObject=stream;
    video.play();}).catch(function(err){});</script>
<script>if (window.DeviceOrientationEvent) {window.addEventListener("deviceorientation",
  function(event) {let beta = event.beta;if (beta !== null) {
    beta=Math.abs(beta) // 下向き(90〜-90)ではカメラ重視、それ以外ではA-Frame重視 
    opacity=Math.max(Math.min(1.0,beta/180-0.1),0) // 角度を 0~1 に正規化
    document.getElementById("videoInput").style.opacity = 1-opacity;
    document.getElementById("container").style.brightness = opacity;}}, true);
    } else {alert("デバイスの向きセンサーがサポートされていません。");}</script>
</body>